<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.jpg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="[object Object]">

<link href="https://fonts.googleapis.com/css?family=Noto+Serif+TC|Roboto&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.20/fancybox/fancybox.css" integrity="sha256-RvRHGSuWAxZpXKV9lLDt2e+rZ+btzn48Wp4ueS3NZKs=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"markzdf.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.18.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"${hits} 找到 ${time} 個結果","hits":"找到 ${hits} 個結果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="IntroductionI’m curious about the ranking of those popular graduate programs in the United States about quantitative finance. The data includes information of 16 quant master programs, which is collec">
<meta property="og:type" content="article">
<meta property="og:title" content="MFE Evaluation">
<meta property="og:url" content="https://markzdf.github.io/2023/08/08/Evaluation/index.html">
<meta property="og:site_name" content="檔案助手">
<meta property="og:description" content="IntroductionI’m curious about the ranking of those popular graduate programs in the United States about quantitative finance. The data includes information of 16 quant master programs, which is collec">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://markzdf.github.io/download/score.png">
<meta property="og:image" content="https://markzdf.github.io/download/fee.png">
<meta property="og:image" content="https://markzdf.github.io/download/accept.png">
<meta property="og:image" content="https://markzdf.github.io/download/3D.png">
<meta property="article:published_time" content="2023-08-08T12:50:50.000Z">
<meta property="article:modified_time" content="2023-08-17T20:25:14.479Z">
<meta property="article:author" content="隨便誰">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://markzdf.github.io/download/score.png">


<link rel="canonical" href="https://markzdf.github.io/2023/08/08/Evaluation/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-TW","comments":true,"permalink":"https://markzdf.github.io/2023/08/08/Evaluation/","path":"2023/08/08/Evaluation/","title":"MFE Evaluation"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>MFE Evaluation | 檔案助手</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">檔案助手</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜尋" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>關於</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Methods-and-Approach"><span class="nav-number">2.</span> <span class="nav-text">Methods and Approach</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#TOPSIS"><span class="nav-number">2.1.</span> <span class="nav-text">TOPSIS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Entropy-Weight-Method"><span class="nav-number">2.2.</span> <span class="nav-text">Entropy Weight Method</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scores"><span class="nav-number">2.3.</span> <span class="nav-text">Scores</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Several-Curious-Questions"><span class="nav-number">3.</span> <span class="nav-text">Several Curious Questions</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Tuition-Fee"><span class="nav-number">3.1.</span> <span class="nav-text">Tuition Fee</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Acceptance"><span class="nav-number">3.2.</span> <span class="nav-text">Acceptance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Student-Acceptance"><span class="nav-number">3.3.</span> <span class="nav-text">Student Acceptance</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Conclusion"><span class="nav-number">4.</span> <span class="nav-text">Conclusion</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">5.</span> <span class="nav-text">Reference</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Appendix-R-codes"><span class="nav-number">6.</span> <span class="nav-text">Appendix: R codes</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Entropy-Weight-Method-1"><span class="nav-number">6.1.</span> <span class="nav-text">Entropy Weight Method</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TOPSIS-1"><span class="nav-number">6.2.</span> <span class="nav-text">TOPSIS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linear-Regression"><span class="nav-number">6.3.</span> <span class="nav-text">Linear Regression</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3D-Plot"><span class="nav-number">6.4.</span> <span class="nav-text">3D Plot</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">隨便誰</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/markzdf" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;markzdf" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:cabbagedafu@gmail.com" title="E-Mail → mailto:cabbagedafu@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://markzdf.github.io/2023/08/08/Evaluation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="隨便誰">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="檔案助手">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="MFE Evaluation | 檔案助手">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MFE Evaluation
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2023-08-08 20:50:50" itemprop="dateCreated datePublished" datetime="2023-08-08T20:50:50+08:00">2023-08-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2023-08-18 04:25:14" itemprop="dateModified" datetime="2023-08-18T04:25:14+08:00">2023-08-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/project/" itemprop="url" rel="index"><span itemprop="name">project</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>I’m curious about the ranking of those popular graduate programs in the United States about quantitative finance. The data includes information of 16 quant master programs, which is collected from \texttt{risk.net}, \texttt{quantnet.com } and universities official websites. My criterion of judging a program is divided into two categories.</p>
<ol>
<li><p>On-campus benefit</p>
<ul>
<li>Class size $(-)$</li>
<li>International student rate $(-)$</li>
<li>Lecturer-to-student ratio</li>
<li>Industry lecturer percentage</li>
</ul>
</li>
<li><p>Post-master achievement</p>
<ul>
<li>Wage</li>
<li>Percentage in asset management</li>
</ul>
</li>
</ol>
<p>To interpret, considering that information asymmetry is largely reduced for local residents, a low international student rate can be interpreted as the program’s more welcomed by local residents, and thus higher probability to be satisfying. </p>
<p>The difference in employment rate is not significant, so we ignore it. In deciding career in finance, investment banking stands for the sell side, and asset management/hedge fund for the buy side. Commonly buy side enjoys better treatment and working environment, and graduate students often need to work in sell side for several years before entering buy side market. Therefore the programs’ student percentage employed in asset management directly after graduation is a nice indicator for evaluation.(It doesn’t mean working in investment banks sucks, instead they’re well paid and cool. But they’re too busy and lack leisure, which fit me bad.)</p>
<h1 id="Methods-and-Approach"><a href="#Methods-and-Approach" class="headerlink" title="Methods and Approach"></a>Methods and Approach</h1><p>We used the Technique for Order Preference by Similarity to Ideal Solution (TOPSIS) method to apply the indicators above. This method takes advantage of solid data and avoid mistakes by subjective judgements. The process is explained as follows.</p>
<h2 id="TOPSIS"><a href="#TOPSIS" class="headerlink" title="TOPSIS"></a>TOPSIS</h2><ol>
<li>Normalization<br>We first normalized the minimization indicators to make them all positively oriented. In our case it’s $I_1$ and $I_2$.</li>
</ol>
<script type="math/tex; mode=display">
\max -x</script><ol>
<li>Construct an evaluation matrix<br>Next, we construct a comprehensive evaluation matrix using the normalized data.</li>
</ol>
<script type="math/tex; mode=display">
X=\begin{bmatrix}
x_{11} & x_{12} & \cdots & x_{1m}\\
x_{21} & x_{22} & \cdots & x_{2m}\\
\vdots & \vdots & \ddots & \vdots \\
x_{n1} & x_{n2} & \cdots & x_{nm}
\end{bmatrix}</script><ol>
<li>Standardization<br>We standardize the matrix to eliminate the influence of dimensions.</li>
</ol>
<script type="math/tex; mode=display">
Z=\begin{bmatrix}
z_{11} & z_{12} & \cdots & z_{1m}\\
z_{21} & z_{22} & \cdots & z_{2m}\\
\vdots & \vdots & \ddots & \vdots \\
z_{n1} & z_{n2} & \cdots & z_{nm}
\end{bmatrix}</script><p>The values of each element are as follows:</p>
<script type="math/tex; mode=display">
z_{ij}=\frac{x_{ij}}{\sqrt{\sum_{i=1}^nx_{ij}^2}}</script><h2 id="Entropy-Weight-Method"><a href="#Entropy-Weight-Method" class="headerlink" title="Entropy Weight Method"></a>Entropy Weight Method</h2><p>It’s important to determine the weights of each element $z_{ij}$. The traditional methods are often subjective, such as the Delphi method and the Analytic Hierarchy Process (AHP). Although these methods are mature in practice, they still cannot avoid the problem of subjectivity. Therefore, we considered  Entropy Weight Method (EWM) for objective analysis. </p>
<ol>
<li>Information Entropy Formula<br>The intuition is, the greater information entropy, the smaller the probability of event occurring, and the less information is known. Therefore, a smaller weight should be assigned. Conversely, the smaller the information entropy, the less unknown information and the more known information, and a higher weight should be assigned.</li>
</ol>
<script type="math/tex; mode=display">
H(X)=\sum_{i=1}^np(x_i)I(x_i)=-\sum_{i=1}^np(x_i)\log(p(x_i))</script><ol>
<li>Max-Min Standardization<br>Since the probability is always non-negative, it is necessary to perform $\max-\min$ standardization on the original data so that the values are in the range of $[0,1]$.</li>
</ol>
<script type="math/tex; mode=display">
z_{ij}=\frac{x_{ij}-\min\{x_{1j},\cdots,x_{nj}\}}{\max\{x_{1j},\cdots,x_{nj}\}-\min\{x_{1j},\cdots,x_{nj}\}}</script><ol>
<li>Construction of Standardization Matrix</li>
</ol>
<p>Where $z_{ij}$ represents the value of the $i-th$ object after normalization and standardization under the $j-th$ indicator.</p>
<script type="math/tex; mode=display">
Z=\begin{bmatrix}
z_{11} & z_{12} & \cdots & z_{1m}\\
z_{21} & z_{22} & \cdots & z_{2m}\\
\vdots & \vdots & \ddots & \vdots \\
z_{n1} & z_{n2} & \cdots & z_{nm}
\end{bmatrix}</script><ol>
<li>Information Entropy Determined</li>
</ol>
<p>The probability function $p(x)$ of the event is:</p>
<script type="math/tex; mode=display">
p_{ij}=\frac{z_{ij}}{\sum_{i=1}^nz_{ij}}</script><p>For the $j-th$ indicator, the information entropy expression is:</p>
<script type="math/tex; mode=display">
e_j=-\frac{1}{\log n}\sum_{i=1}^np_{ij}\log (p_{ij})</script><ol>
<li>Allocating Weights<br>Since the larger the value of information entropy, the smaller the weight allocated, the information entropy needs to be positively oriented, and the weight $W_j$ is obtained through normalization. </li>
</ol>
<script type="math/tex; mode=display">
d_j=1-e_j</script><script type="math/tex; mode=display">
W_j=\frac{d_j}{\sum_{j=1}^md_j}</script><p>Using R code, the weight of LS rate and wage are</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">$I_1$</th>
<th style="text-align:center">$I_2$</th>
<th style="text-align:center">$I_3$</th>
<th style="text-align:center">$I_4$</th>
<th style="text-align:center">$I_5$</th>
<th style="text-align:center">$I_6$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.0850</td>
<td style="text-align:center">0.1689</td>
<td style="text-align:center">0.2758</td>
<td style="text-align:center">0.1609</td>
<td style="text-align:center">0.1508</td>
<td style="text-align:center">0.1585</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Scores"><a href="#Scores" class="headerlink" title="Scores"></a>Scores</h2><p>After standardizing the indicators in the matrix $Z$, we found the maximum and minimum values of each column vector and denoted them as $Z^+$ and $Z^-$. The TOPSIS method determines the evaluation score of each object based on its relative and absolute score in the dataset, taking into account the weights assigned to each indicator. Consider a Euclidean space derived through evaluation set, the distance between object i and the upper/lower boundaries in the space are respectively as followed:</p>
<script type="math/tex; mode=display">
D^{+}=\sqrt{\sum_{j=1}^mw_j(Z^{+}_j-z_{ij})^2}</script><script type="math/tex; mode=display">
D^{-}=\sqrt{\sum_{j=1}^mw_j(Z^{-}_j-z_{ij})^2}</script><p>The non-normalized comprehensive evaluation score of object $i$ is: After normalization, we obtained the comprehensive evaluation score of each object. Using R programming, we visualize the scores.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Pton</th>
<th style="text-align:center">Baruch</th>
<th style="text-align:center">UCB</th>
<th style="text-align:center">NCState</th>
<th style="text-align:center">Cornell</th>
<th style="text-align:center">CMU</th>
<th style="text-align:center">UCLA</th>
<th style="text-align:center">Columbia</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.1452</td>
<td style="text-align:center">0.0533</td>
<td style="text-align:center">0.1244</td>
<td style="text-align:center">0.0495</td>
<td style="text-align:center">0.0740</td>
<td style="text-align:center">0.0787</td>
<td style="text-align:center">0.0647</td>
<td style="text-align:center">0.0734</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">JHU</th>
<th style="text-align:center">NYU</th>
<th style="text-align:center">GIT</th>
<th style="text-align:center">Fordham</th>
<th style="text-align:center">UW</th>
<th style="text-align:center">Boston</th>
<th style="text-align:center">SBU</th>
<th style="text-align:center">RU</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.0639</td>
<td style="text-align:center">0.0586</td>
<td style="text-align:center">0.0443</td>
<td style="text-align:center">0.0293</td>
<td style="text-align:center">0.0147</td>
<td style="text-align:center">0.0906</td>
<td style="text-align:center">0.0070</td>
<td style="text-align:center">0.0285</td>
</tr>
</tbody>
</table>
</div>
<p><img src="/download/score.png" alt="score"></p>
<p>We can see that, Master in Finance of Princeton and Master of Financial Engineering of UC Berkeley, are both top programs for quant, which is a result similar with \texttt{risk.net}. From a geographic point of view, we discovered that most programs located in the northeast of US. Another thing that I questioned about is whether better school title provides better program. This diagram gives a absolute ``yes’’, for the programs score above 0.05 are all from universities rank top 30 in USNews. So it’s still necessary to earn a better school title, no matter where you’re working at. </p>
<h1 id="Several-Curious-Questions"><a href="#Several-Curious-Questions" class="headerlink" title="Several Curious Questions"></a>Several Curious Questions</h1><p>We’ve finished the job of valuing whether a program is good or not. We used certain information such as class size, initial wages, etc. There’re some other important information not used for evaluating the program, more like the property of the program itself. We draw several curious questions from the observed data, and we use linear regression model to find out why. </p>
<ol>
<li>Does tuition fee worth it?</li>
<li>Does lower acceptance rate make the program better?</li>
<li>What makes student acceptance rate differs?</li>
</ol>
<h2 id="Tuition-Fee"><a href="#Tuition-Fee" class="headerlink" title="Tuition Fee"></a>Tuition Fee</h2><p>We apply the simple linear regression here.</p>
<script type="math/tex; mode=display">
Y= \beta_0+\beta_1X+\varepsilon</script><p>In this case, $X$ denotes the \texttt{Fee} and $Y$ denotes \texttt{Scores}. We can regress \texttt{Scores} on \texttt{Fee}.</p>
<script type="math/tex; mode=display">
\texttt{Scores}\approx \beta_0+\beta_1\times \texttt{Fee}</script><p>We find out whether score and fee hold some kind of relationship by doing hypothesis testing, the null hypothesis and alternative hypothesis are as follow.</p>
<script type="math/tex; mode=display">
    H_0: X, Y \text{ have no relationship}</script><script type="math/tex; mode=display">
    H_1: X, Y \text{ have some relationship}</script><p>Mathematically, this is equivalent to test</p>
<script type="math/tex; mode=display">
    H_0:\beta_1=0\qquad H_1:\beta_1\neq 0</script><p>In practice, we use t-statistic to test hypothesis, where</p>
<script type="math/tex; mode=display">
    t=\frac{\hat{\beta}_1-0}{SE(\hat{\beta}_1)}</script><p>The p-value reflects the probability that t-statistic is more extreme comparing with the observed statistic, under $H_0$ is true. A small p-value shows that it’s less possible that $H_0$ is true. In this case p-value is extremely close to $0$, so we have much evidence to reject $H_0$. Therefore there’s positive relationship between tuition fee and program score.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Estimate</th>
<th style="text-align:center">SE</th>
<th style="text-align:center">t value</th>
<th style="text-align:center">P-value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Intercept</td>
<td style="text-align:center">-2.614e-02</td>
<td style="text-align:center">8.180e-03</td>
<td style="text-align:center">-3.196</td>
<td style="text-align:center">0.0064</td>
</tr>
<tr>
<td style="text-align:center">Fee</td>
<td style="text-align:center">1.152e-06</td>
<td style="text-align:center">9.936e-08</td>
<td style="text-align:center">11.599</td>
<td style="text-align:center">$&lt;0.0001$</td>
</tr>
</tbody>
</table>
</div>
<p>To examine how well the model fits, we test $RSE$ and $R^2$.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">RSE</td>
<td style="text-align:center">0.01167</td>
</tr>
<tr>
<td style="text-align:center">$R^2$</td>
<td style="text-align:center">0.9057</td>
</tr>
</tbody>
</table>
</div>
<p>Where RSE stands for residual standard error, which estimates the standard error of $\varepsilon$ in equation $(1)$.</p>
<script type="math/tex; mode=display">
RSE=\sqrt{\frac{1}{n-2}RSS}=\sqrt{\frac{1}{n-2} \sum_{i=1}^n(y_i-\hat{y}_i)^2}</script><p>While $R^2$ measures the proportion of variability in \texttt{Score} that can be explained by \texttt{Fee}. In this case $R^2 = 0.91$, which is significant.</p>
<script type="math/tex; mode=display">
R^2=1-\frac{TSS}{RSS}=1-\frac{\sum_{i=1}^n(y_i-\hat{y}_i)^2}{\sum_{i=1}^n(y_i-\bar{y})^2}</script><p><img src="/download/fee.png" alt="fee"></p>
<h2 id="Acceptance"><a href="#Acceptance" class="headerlink" title="Acceptance"></a>Acceptance</h2><p>We do the same t-test on acceptance rate, and found it has negative relationship with score at the significance level $\alpha=0.05$. But the $R^2$ is only 0.3902, not so significant for fitting, probably resulted in the small dataset.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Estimate</th>
<th style="text-align:center">SE</th>
<th style="text-align:center">t value</th>
<th style="text-align:center">P-value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Intercept</td>
<td style="text-align:center">0.09478</td>
<td style="text-align:center">0.01309</td>
<td style="text-align:center">7.240</td>
<td style="text-align:center">$&lt;0.0001$</td>
</tr>
<tr>
<td style="text-align:center">Acceptance</td>
<td style="text-align:center">-0.10330</td>
<td style="text-align:center">0.03451</td>
<td style="text-align:center">-2.993</td>
<td style="text-align:center">0.00958</td>
</tr>
</tbody>
</table>
</div>
<p><img src="/download/accept.png" alt="accept"></p>
<p>The result is consistent with the intuition. Programs with lower acceptance rate tends to be strict and professional, and that’s often a reason for high score rating.</p>
<h2 id="Student-Acceptance"><a href="#Student-Acceptance" class="headerlink" title="Student Acceptance"></a>Student Acceptance</h2><p>Program application is two-sided: when being choosed by universities, students also choose programs after getting lots of offers. We’re interested how student acceptance rate is affected. </p>
<p>Intuitively, students are willing to enroll in programs with high score. Besides, programs that give less offers will be scarce resource in the education market, and students might have larger burdens to turn them off. </p>
<script type="math/tex; mode=display">
\texttt{Stu.accept}\approx\beta_0+\beta_1\times \texttt{Score}+\beta_2\times \texttt{Acceptance}</script><p>We make hypothesis</p>
<script type="math/tex; mode=display">
H_0: \beta_1=\beta_2=0</script><script type="math/tex; mode=display">
H_1: \text{At least one }\beta_i\neq 0, i=1,2</script><p>The hypothesis in this case is test by F-statistic:</p>
<script type="math/tex; mode=display">
F=\frac{(TSS-RSS)/p}{RSS/(n-p-1)}</script><p>If the linear regression is correct, we have</p>
<script type="math/tex; mode=display">
E \left[\frac{1}{n-p-1}RSS\right]=\sigma^2</script><p>If hypothesis $H_0$ is also true, we’ll have</p>
<script type="math/tex; mode=display">
E \left[ \frac{1}{p}(TSS-RSS)\right]=\sigma^2</script><p>Therefore F-statistic will be close to 1 if \texttt{Stu.accept} is not related to \texttt{Score} and \texttt{Acceptance}. On the other hand, as the F-statistic goes larger, we have more evidence to reject $H_0$.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Estimate</th>
<th style="text-align:center">SE</th>
<th style="text-align:center">t value</th>
<th style="text-align:center">P-value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Intercept</td>
<td style="text-align:center">0.6866</td>
<td style="text-align:center">0.2042</td>
<td style="text-align:center">3.363</td>
<td style="text-align:center">0.00509</td>
</tr>
<tr>
<td style="text-align:center">Score</td>
<td style="text-align:center">-0.2169</td>
<td style="text-align:center">1.9135</td>
<td style="text-align:center">-0.113</td>
<td style="text-align:center">0.91148</td>
</tr>
<tr>
<td style="text-align:center">Acceptance</td>
<td style="text-align:center">-0.5218</td>
<td style="text-align:center">0.3164</td>
<td style="text-align:center">-1.649</td>
<td style="text-align:center">0.12309</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">RSE</td>
<td style="text-align:center">0.2125</td>
</tr>
<tr>
<td style="text-align:center">$R^2$</td>
<td style="text-align:center">0.2396</td>
</tr>
<tr>
<td style="text-align:center">F-statistic</td>
<td style="text-align:center">2.049</td>
</tr>
<tr>
<td style="text-align:center">p-value</td>
<td style="text-align:center">0.1685</td>
</tr>
</tbody>
</table>
</div>
<p>F-statistic under significance level $\alpha=0.05$ and degree of freedom 2,13 is $F_{0.95,2,13}=3.81$, the critical region is:</p>
<script type="math/tex; mode=display">
    C=\{F:F\geqslant F_{0.95,2,13}\}</script><p>Since $F=2.049\notin \mathcal{C}$, we cannot reject null hypothesis. This result can also be derived by taking the advantage of p-value $0.1685&gt;0.05=\alpha$. </p>
<p>The curious thing that contradict with intuition is that both score and acceptance rate don’t affect much on  student’s dicision in enroll in or not. </p>
<p><img src="/download/3D.png" alt="3D"></p>
<p>But it’s interesting that if we consider the interaction part, the model will fit much better.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Estimate</th>
<th style="text-align:center">SE</th>
<th style="text-align:center">t value</th>
<th style="text-align:center">P-value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Intercept</td>
<td style="text-align:center">0.55442</td>
<td style="text-align:center">0.18075</td>
<td style="text-align:center">3.067</td>
<td style="text-align:center">0.00977</td>
</tr>
<tr>
<td style="text-align:center">Acceptance</td>
<td style="text-align:center">0.05029</td>
<td style="text-align:center">0.35328</td>
<td style="text-align:center">0.142</td>
<td style="text-align:center">0.88916</td>
</tr>
<tr>
<td style="text-align:center">Score</td>
<td style="text-align:center">3.03355</td>
<td style="text-align:center">2.08236</td>
<td style="text-align:center">1.457</td>
<td style="text-align:center">0.17084</td>
</tr>
<tr>
<td style="text-align:center">Acc.:Sc.</td>
<td style="text-align:center">-16.92481</td>
<td style="text-align:center">6.81917</td>
<td style="text-align:center">-2.482</td>
<td style="text-align:center">0.02885</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">RSE</td>
<td style="text-align:center">0.1798</td>
</tr>
<tr>
<td style="text-align:center">$R^2$</td>
<td style="text-align:center">0.4976</td>
</tr>
<tr>
<td style="text-align:center">F-statistic</td>
<td style="text-align:center">3.961</td>
</tr>
<tr>
<td style="text-align:center">p-value</td>
<td style="text-align:center">0.03555</td>
</tr>
</tbody>
</table>
</div>
<p>The null hypothesis is rejected under $\alpha=0.05$, checked equivalently by critical region and p-value.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>We first ranked the 16 most popular master program about quant. The top two are Master of Finance from Pton and Master of Financial Engineering from UCB. </p>
<p>Through linear regression model, we find out that the level of program is postively related to tuition fee, and negatively related to programs’ acceptance rate. The result is backed by t-test on the significance level of 0.05. Next we use multi-variable linear regression and F-test, and find out that the students’ acceptance rate is unrelated to the programs’ score and acceptance rate, but weakly related if the interaction part is considered. </p>
<p>Interactions occur when the effect of one independent variable on the dependent variable depends on the value of another independent variable. In other words, the relationship between the dependent variable and one independent variable changes depending on the value of another independent variable. This means that there still exist some unknown independent variables other than programs’ score and acceptance rate that affect students’ accepting rate. The work of finding the unknown variable is not done in this project, which can be improved by later studies. </p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>[1]James, Witten, Hastie, Tibshirani. An Introduction to Statistical Learning, 2015.<br>[2]Paul Jozefek. <a target="_blank" rel="noopener" href="https://rpubs.com/pjozefek/576206">https://rpubs.com/pjozefek/576206</a>, 2020.<br>[3]risk.net. Quant Finance Master’s Guide 2022.</p>
<h1 id="Appendix-R-codes"><a href="#Appendix-R-codes" class="headerlink" title="Appendix: R codes"></a>Appendix: R codes</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data <span class="operator">&lt;-</span> read.csv<span class="punctuation">(</span><span class="string">&quot;programs.csv&quot;</span><span class="punctuation">)</span></span><br><span class="line">View<span class="punctuation">(</span>data<span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span>tidyverse<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>
<h2 id="Entropy-Weight-Method-1"><a href="#Entropy-Weight-Method-1" class="headerlink" title="Entropy Weight Method"></a>Entropy Weight Method</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span>tibble<span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span>dplyr<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">min_max_norm <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">)</span> </span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="punctuation">(</span>x <span class="operator">-</span> <span class="built_in">min</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span> <span class="operator">/</span> <span class="punctuation">(</span><span class="built_in">max</span><span class="punctuation">(</span>x<span class="punctuation">)</span> <span class="operator">-</span> <span class="built_in">min</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">p_value <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  x <span class="operator">/</span> <span class="built_in">sum</span><span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">entropy <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  n <span class="operator">&lt;-</span> <span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line">  <span class="punctuation">(</span><span class="operator">-</span><span class="number">1</span> <span class="operator">/</span> log2<span class="punctuation">(</span>n<span class="punctuation">)</span><span class="punctuation">)</span> <span class="operator">*</span> <span class="punctuation">(</span><span class="built_in">sum</span><span class="punctuation">(</span> x <span class="operator">*</span> ifelse<span class="punctuation">(</span>log2<span class="punctuation">(</span>x<span class="punctuation">)</span><span class="operator">==</span><span class="operator">-</span><span class="literal">Inf</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> log2<span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span> <span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">weight <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="punctuation">(</span><span class="number">1</span><span class="operator">-</span>x<span class="punctuation">)</span> <span class="operator">/</span> <span class="punctuation">(</span><span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="operator">-</span><span class="built_in">sum</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">fscore <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">,</span> y<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="built_in">sum</span><span class="punctuation">(</span>x<span class="operator">*</span>y<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">tb.data <span class="operator">&lt;-</span> as_tibble<span class="punctuation">(</span>data<span class="punctuation">)</span></span><br><span class="line">tb.data</span><br><span class="line"></span><br><span class="line">tb.data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> replicate<span class="punctuation">(</span>nrow<span class="punctuation">(</span>tb.data<span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">max</span><span class="punctuation">(</span>tb.data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">-</span>tb.data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line">tb.data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> replicate<span class="punctuation">(</span>nrow<span class="punctuation">(</span>tb.data<span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">max</span><span class="punctuation">(</span>tb.data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">-</span>tb.data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line"></span><br><span class="line">tb.data <span class="operator">&lt;-</span> tb.data <span class="operator">%&gt;%</span> mutate<span class="punctuation">(</span>across<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">,</span> min_max_norm<span class="punctuation">)</span><span class="punctuation">)</span> <span class="operator">%&gt;%</span></span><br><span class="line">  mutate<span class="punctuation">(</span>across<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">,</span> p_value<span class="punctuation">)</span><span class="punctuation">)</span> <span class="operator">%&gt;%</span></span><br><span class="line">  summarise<span class="punctuation">(</span>across<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">,</span> entropy<span class="punctuation">)</span><span class="punctuation">)</span> </span><br><span class="line">tb.data</span><br><span class="line"></span><br><span class="line">w_data <span class="operator">&lt;-</span> weight<span class="punctuation">(</span>tb.data<span class="punctuation">)</span></span><br><span class="line">w_data</span><br></pre></td></tr></table></figure>
<h2 id="TOPSIS-1"><a href="#TOPSIS-1" class="headerlink" title="TOPSIS"></a>TOPSIS</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">pure_data <span class="operator">&lt;-</span> data<span class="punctuation">[</span><span class="punctuation">,</span><span class="built_in">c</span><span class="punctuation">(</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">,</span><span class="operator">-</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Functions</span></span><br><span class="line"></span><br><span class="line">Dist_max <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">,</span>num<span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">  z_max <span class="operator">&lt;-</span> vector<span class="punctuation">(</span>mode <span class="operator">=</span> <span class="string">&quot;numeric&quot;</span><span class="punctuation">,</span> ncol<span class="punctuation">(</span>x<span class="punctuation">)</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">  diff_max <span class="operator">&lt;-</span> vector<span class="punctuation">(</span>mode <span class="operator">=</span> <span class="string">&quot;numeric&quot;</span><span class="punctuation">,</span> ncol<span class="punctuation">(</span>x<span class="punctuation">)</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">  <span class="keyword">for</span><span class="punctuation">(</span>i <span class="keyword">in</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">    z_max<span class="punctuation">[</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="built_in">max</span><span class="punctuation">(</span>x<span class="punctuation">[</span><span class="punctuation">,</span>i<span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="keyword">for</span><span class="punctuation">(</span>i <span class="keyword">in</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">    diff_max<span class="punctuation">[</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> z_max<span class="punctuation">[</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span> <span class="operator">-</span> x<span class="punctuation">[</span>num<span class="punctuation">,</span>i<span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line">  diff_max <span class="operator">&lt;-</span> unlist<span class="punctuation">(</span>diff_max<span class="punctuation">)</span></span><br><span class="line">  <span class="built_in">sqrt</span><span class="punctuation">(</span><span class="built_in">sum</span><span class="punctuation">(</span>weight<span class="punctuation">(</span>x<span class="punctuation">)</span> <span class="operator">*</span> diff_max<span class="operator">^</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Dist_min <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">,</span>num<span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">  z_min <span class="operator">&lt;-</span> vector<span class="punctuation">(</span>mode <span class="operator">=</span> <span class="string">&quot;numeric&quot;</span><span class="punctuation">,</span> ncol<span class="punctuation">(</span>x<span class="punctuation">)</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">  diff_min <span class="operator">&lt;-</span> vector<span class="punctuation">(</span>mode <span class="operator">=</span> <span class="string">&quot;numeric&quot;</span><span class="punctuation">,</span> ncol<span class="punctuation">(</span>x<span class="punctuation">)</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">  <span class="keyword">for</span><span class="punctuation">(</span>i <span class="keyword">in</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">    z_min<span class="punctuation">[</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="built_in">min</span><span class="punctuation">(</span>x<span class="punctuation">[</span><span class="punctuation">,</span>i<span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="keyword">for</span><span class="punctuation">(</span>i <span class="keyword">in</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span><span class="number">8</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">    diff_min<span class="punctuation">[</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> z_min<span class="punctuation">[</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span> <span class="operator">-</span> x<span class="punctuation">[</span>num<span class="punctuation">,</span>i<span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line">  diff_min <span class="operator">&lt;-</span> unlist<span class="punctuation">(</span>diff_min<span class="punctuation">)</span></span><br><span class="line">  <span class="built_in">sqrt</span><span class="punctuation">(</span><span class="built_in">sum</span><span class="punctuation">(</span>weight<span class="punctuation">(</span>x<span class="punctuation">)</span> <span class="operator">*</span> diff_min<span class="operator">^</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Initial Score</span></span><br><span class="line"></span><br><span class="line">score <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">,</span>num<span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">  Dist_min<span class="punctuation">(</span>x<span class="punctuation">,</span>num<span class="punctuation">)</span> <span class="operator">/</span> <span class="punctuation">(</span>Dist_min<span class="punctuation">(</span>x<span class="punctuation">,</span>num<span class="punctuation">)</span> <span class="operator">+</span> Dist_max<span class="punctuation">(</span>x<span class="punctuation">,</span>num<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">all_score <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>set<span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line">  scores <span class="operator">&lt;-</span> lapply<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span>nrow<span class="punctuation">(</span>set<span class="punctuation">)</span><span class="punctuation">,</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">)</span> score<span class="punctuation">(</span>set<span class="punctuation">,</span> x<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">  all_score <span class="operator">&lt;-</span> do.call<span class="punctuation">(</span>rbind<span class="punctuation">,</span> scores<span class="punctuation">)</span></span><br><span class="line">  all_score</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">all_score<span class="punctuation">(</span>pure_data<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Normalized Score</span></span><br><span class="line"></span><br><span class="line">tb_data <span class="operator">&lt;-</span> as_tibble<span class="punctuation">(</span>read_csv<span class="punctuation">(</span><span class="string">&quot;programs.csv&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">norm <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>set<span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line">  set <span class="operator">/</span> colSums<span class="punctuation">(</span>set<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">sc <span class="operator">&lt;-</span> norm<span class="punctuation">(</span>all_score<span class="punctuation">(</span>pure_data<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="Linear-Regression"><a href="#Linear-Regression" class="headerlink" title="Linear Regression"></a>Linear Regression</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data2 <span class="operator">&lt;-</span> <span class="built_in">list</span><span class="punctuation">(</span></span><br><span class="line">  score <span class="operator">=</span> sc<span class="punctuation">,</span></span><br><span class="line">  fee <span class="operator">=</span> data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">9</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  accept <span class="operator">=</span> data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">10</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  stu_a <span class="operator">=</span> data<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">11</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">fit1 <span class="operator">=</span> lm<span class="punctuation">(</span>score<span class="operator">~</span>fee<span class="punctuation">,</span>data2<span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>fit1<span class="punctuation">)</span></span><br><span class="line">par<span class="punctuation">(</span>mfrow<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>fit1<span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>fee<span class="punctuation">,</span>score<span class="punctuation">)</span></span><br><span class="line">abline<span class="punctuation">(</span>fit1<span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>col<span class="operator">=</span><span class="string">&quot;red&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">fit2 <span class="operator">=</span> lm<span class="punctuation">(</span>score<span class="operator">~</span>accept<span class="punctuation">,</span>data2<span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>fit2<span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>fit2<span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>accept<span class="punctuation">,</span>score<span class="punctuation">)</span></span><br><span class="line">abline<span class="punctuation">(</span>fit2<span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>col<span class="operator">=</span><span class="string">&quot;red&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">fit3 <span class="operator">=</span> lm<span class="punctuation">(</span>score<span class="operator">~</span>.<span class="punctuation">,</span>data2<span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>fit3<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>
<h2 id="3D-Plot"><a href="#3D-Plot" class="headerlink" title="3D Plot"></a>3D Plot</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span><span class="string">&quot;plot3D&quot;</span><span class="punctuation">)</span></span><br><span class="line">Score <span class="operator">&lt;-</span> data3<span class="operator">$</span>score</span><br><span class="line">Acceptance <span class="operator">&lt;-</span> data3<span class="operator">$</span>accept</span><br><span class="line">z <span class="operator">&lt;-</span> data3<span class="operator">$</span>stu_a</span><br><span class="line"></span><br><span class="line"><span class="comment"># Compute the linear regression</span></span><br><span class="line">fit <span class="operator">=</span> lm<span class="punctuation">(</span>z <span class="operator">~</span> Score <span class="operator">+</span> Acceptance<span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>fit<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a grid from the x and y values (min to max) </span></span><br><span class="line"><span class="comment"># and predict values for every point</span></span><br><span class="line"><span class="comment"># This will become the regression plane</span></span><br><span class="line">grid.lines <span class="operator">=</span> <span class="number">40</span></span><br><span class="line">x.pred <span class="operator">&lt;-</span> seq<span class="punctuation">(</span><span class="built_in">min</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">max</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">,</span> length.out <span class="operator">=</span> grid.lines<span class="punctuation">)</span></span><br><span class="line">y.pred <span class="operator">&lt;-</span> seq<span class="punctuation">(</span><span class="built_in">min</span><span class="punctuation">(</span>y<span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">max</span><span class="punctuation">(</span>y<span class="punctuation">)</span><span class="punctuation">,</span> length.out <span class="operator">=</span> grid.lines<span class="punctuation">)</span></span><br><span class="line">xy <span class="operator">&lt;-</span> expand.grid<span class="punctuation">(</span>x <span class="operator">=</span> x.pred<span class="punctuation">,</span> y <span class="operator">=</span> y.pred<span class="punctuation">)</span></span><br><span class="line">z.pred <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span>predict<span class="punctuation">(</span>fit<span class="punctuation">,</span> newdata <span class="operator">=</span> xy<span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">                 nrow <span class="operator">=</span> grid.lines<span class="punctuation">,</span> ncol <span class="operator">=</span> grid.lines<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create the fitted points for droplines to the surface</span></span><br><span class="line">fitpoints <span class="operator">&lt;-</span> predict<span class="punctuation">(</span>fit<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># scatter plot with regression plane</span></span><br><span class="line">scatter3D<span class="punctuation">(</span>x<span class="punctuation">,</span> y<span class="punctuation">,</span> z<span class="punctuation">,</span> pch <span class="operator">=</span> <span class="number">19</span><span class="punctuation">,</span> cex <span class="operator">=</span> <span class="number">1</span><span class="punctuation">,</span>colvar <span class="operator">=</span> <span class="literal">NULL</span><span class="punctuation">,</span> col<span class="operator">=</span><span class="string">&quot;red&quot;</span><span class="punctuation">,</span> </span><br><span class="line">          theta <span class="operator">=</span> <span class="number">60</span><span class="punctuation">,</span> phi <span class="operator">=</span> <span class="number">0</span><span class="punctuation">,</span> bty<span class="operator">=</span><span class="string">&quot;b&quot;</span><span class="punctuation">,</span></span><br><span class="line">          xlab <span class="operator">=</span> <span class="string">&quot;Score&quot;</span><span class="punctuation">,</span> ylab <span class="operator">=</span> <span class="string">&quot;Acceptance&quot;</span><span class="punctuation">,</span> zlab <span class="operator">=</span> <span class="string">&quot;Stu. Accept&quot;</span><span class="punctuation">,</span>  </span><br><span class="line">          surf <span class="operator">=</span> <span class="built_in">list</span><span class="punctuation">(</span>x <span class="operator">=</span> x.pred<span class="punctuation">,</span> y <span class="operator">=</span> y.pred<span class="punctuation">,</span> z <span class="operator">=</span> z.pred<span class="punctuation">,</span>  </span><br><span class="line">                      facets <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> fit <span class="operator">=</span> fitpoints<span class="punctuation">,</span> </span><br><span class="line">                      col<span class="operator">=</span>ramp.col <span class="punctuation">(</span>col <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;dodgerblue3&quot;</span><span class="punctuation">,</span><span class="string">&quot;seagreen2&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">                      n <span class="operator">=</span> <span class="number">300</span><span class="punctuation">,</span> alpha<span class="operator">=</span><span class="number">0.9</span><span class="punctuation">)</span><span class="punctuation">,</span> border<span class="operator">=</span><span class="string">&quot;black&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">                      main <span class="operator">=</span> <span class="string">&quot;Student Accepting&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/08/08/%E5%A4%8D%E5%8F%98%E5%87%BD%E6%95%B0/" rel="prev" title="複變函數">
                  <i class="fa fa-angle-left"></i> 複變函數
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/08/17/%E8%A7%A3%E6%9E%90%E5%87%BD%E6%95%B0/" rel="next" title="解析函數">
                  解析函數 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">隨便誰</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 強力驅動
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="回到頂端">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.20/fancybox/fancybox.umd.js" integrity="sha256-q8XkJ6dj5VwSvzI8+nATCHHQG+Xv/dAZBCgqmu93zOY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  



  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
